{% comment %}
This file contains accessibility enhancements for Bootstrap 5.
Include this in your base template to add accessibility features.
Follows WAI-ARIA best practices and Windsurf rules.
{% endcomment %}
{% load static %}

<!-- Skip to content link for keyboard users -->
<a href="#main-content" class="visually-hidden-focusable d-inline-block p-3 bg-primary text-white text-decoration-none position-absolute">
  <i class="fa fa-arrow-right me-2" aria-hidden="true"></i> Hopp til hovedinnhold
</a>

<!-- Dark/Light mode toggle -->
<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 5">
  <button id="theme-toggle" class="btn btn-outline-primary rounded-circle shadow" aria-label="Bytt fargemodus">
    <i class="fa fa-moon" aria-hidden="true"></i>
    <span class="visually-hidden">Bytt mellom m√∏rk og lys modus</span>
  </button>
</div>

<!-- Toast container for notifications -->
<div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1056">
  <!-- Toasts will be inserted here dynamically by JavaScript -->
</div>

<!-- Screen reader announcer for dynamic content -->
<div id="screen-reader-announcer" class="visually-hidden" aria-live="polite" aria-atomic="true"></div>

<!-- Accessibility styles -->
<style>
  /* Focus styles for keyboard users */
  .keyboard-user *:focus {
    outline: 3px solid #0d6efd !important;
    outline-offset: 2px !important;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25) !important;
  }
  
  /* High contrast focus styles for dark mode */
  .dark-mode.keyboard-user *:focus {
    outline-color: #90c8ff !important;
  }
  
  /* Dark mode styles */
  .dark-mode {
    background-color: #212529;
    color: #f8f9fa;
  }
  
  .dark-mode .card {
    background-color: #2c3034;
    border-color: #373b3e;
  }
  
  .dark-mode .form-control,
  .dark-mode .input-group-text {
    background-color: #343a40;
    border-color: #495057;
    color: #e9ecef;
  }
  
  .dark-mode .table {
    color: #e9ecef;
  }
  
  .dark-mode .table-striped > tbody > tr:nth-of-type(odd) > * {
    background-color: rgba(255, 255, 255, 0.05);
  }
  
  .dark-mode hr {
    border-color: #495057;
  }
</style>

<!-- Include our accessibility JavaScript -->
<script src="{% static 'js/accessibility.js' %}" defer></script>
